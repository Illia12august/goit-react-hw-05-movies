"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[249],{429:function(e,t,r){r.d(t,{e:function(){return i}});var n=r(689),a=r(87),c=r(184),i=function(e){var t=e.movies,r=e.title,i=void 0===r?"Trending today":r,u=(0,n.TH)();return(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{children:i}),(0,c.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.title;return(0,c.jsx)("div",{children:(0,c.jsx)(a.rU,{to:"/movies/".concat(t),state:{from:u},children:r})},t)}))})]})}},249:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(861),a=r(439),c=r(687),i=r.n(c),u=r(73),o=r(429),s=r(791),l=r(87),h=r(985),f=r(184),v=function(){var e=(0,s.useState)([]),t=(0,a.Z)(e,2),r=t[0],c=t[1],v=(0,l.lr)(),d=(0,a.Z)(v,2),p=d[0],m=d[1],x=(0,s.useCallback)(function(){var e=(0,n.Z)(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.trim()){e.next=3;break}return u.ZP.error("You didn't enter anything for the search."),e.abrupt("return");case 3:return e.prev=3,e.next=6,(0,h.X)("/search/movie?query=".concat(t,"&include_adult=false&language=en-US&page=1"));case 6:r=e.sent,c(r.data.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),[]);(0,s.useEffect)((function(){var e=p.get("searchQuery");e&&x(e)}),[p,x]);return(0,f.jsxs)("div",{children:[(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value;m(""!==t?{searchQuery:t}:{}),x(t),e.target.reset()},children:[(0,f.jsx)("input",{type:"text",name:"query",placeholder:"Search movies...",autoComplete:"off"}),(0,f.jsx)("button",{type:"submit",children:"Search"})]}),r.length>0&&(0,f.jsx)(o.e,{movies:r,title:"Movies"})]})},d=function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v,{})})}},985:function(e,t,r){r.d(t,{X:function(){return o}});var n=r(861),a=r(687),c=r.n(a),i=r(243),u={headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJmNDU5MDZhNjdiYjRmODc1NTE2MjUxMWYwYmMwZmZjNSIsInN1YiI6IjY0ZTc4OGRlYzYxM2NlMDE0ZGZiODg4MCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ._mEzgbWM_HLA1BRaNaEMWbU8KxVgihcTDELuXNFHkmI"}},o=function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("".concat("https://api.themoviedb.org/3").concat(t),u);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching movies:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=249.cdc5aa4d.chunk.js.map